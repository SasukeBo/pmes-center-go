package handler

import (
	"encoding/json"
	"fmt"
	"testing"
)

func TestJSONUnmarshal(t *testing.T) {
	var jsonStr = `{"device_token":"652719fc-115d-43c4-8748-617546fafec8","point_values": "FAI16-1-B:20.496;FAI16-2-B:20.497;FAI16-3-B:20.496;FAI17-1-B:9.864;FAI17-2-B:9.863;FAI17-3-B:9.863;FAI18-1-B:26.545;FAI18-2-B:26.546;FAI18-3-B:26.546;FAI23-1-B:15.288;FAI23-2-B:15.286;FAI23-3-B:15.287;FAI24-1-B:14.834;FAI24-2-B:14.833;FAI24-3-B:14.836;FAI35-1-B:0.459;FAI35-2-B:0.466;FAI35-3-B:0.462;FAI38-1-B:31.083;FAI38-2-B:31.087;FAI38-3-B:31.083;FAI100:9.808;FAI100-Y:7.588;FAI100-X:7.684;FAI99:0.022;FAI95:9.677;FAI95-Y:23.009;FAI95-X:7.685;FAI96:0.025;FAI98:8.628;FAI98-Y:15.295;FAI98-X:21.038;FAI97:0.018;FAI81-1:0.238;FAI81-2:0.237;FAI81-3:0.241;FAI81-4:0.241;FAI16-1-F:20.507;FAI16-2-F:20.508;FAI16-3-F:20.508;FAI17-1-F:9.865;FAI17-2-F:9.872;FAI17-3-F:9.873;FAI18-1-F:26.539;FAI18-2-F:26.545;FAI18-3-F:26.541;FAI23-1-F:15.280;FAI23-2-F:15.273;FAI23-3-F:15.278;FAI24-1-F:14.843;FAI24-2-F:14.832;FAI24-3-F:14.834;FAI35-1-F:0.459;FAI35-2-F:0.462;FAI35-3-F:0.463;FAI38-1-F:31.083;FAI38-2-F:31.087;FAI38-3-F:31.088;","attributes": "attr_3:JI","qualified":1}`

	var res response
	json.Unmarshal([]byte(jsonStr), &res)

	fmt.Println(res)
}
